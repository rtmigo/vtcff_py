# [vtcff](https://github.com/rtmigo/vtcff_py)

`ffmpeg` automation tool.

This project is a draft and is not intended to be used by anyone.

# Basic sample

```python3
import subprocess
from vtcff import FfmpegCommand, Scale, Speed, Transpose

cmd = FfmpegCommand()

cmd.src_file = '/path/to/source.mov'
cmd.dst_file = '/path/to/target.mov'

# set set some options
cmd.scale = Scale(-2, 1080)
cmd.speed = Speed.n2_superfast
cmd.transpose = Transpose.Clockwise

# run command
subprocess.check_call(list(cmd))
```

# Change color range

```python3
from vtcff import FfmpegCommand

# use zscale (zimg) for color conversions
cmd = FfmpegCommand(use_zscale=True)

# Full/Data/PC range to Limited/Video/TV
cmd.src_range_full = True
cmd.dst_range_full = False

# rec.709 to rec.2020 
cmd.src_color_space = 'bt709'
cmd.dst_color_space = 'bt2020'
```

# Set arguments manually

Manual arguments override those generated by the object. 

```python3
from vtcff import FfmpegCommand

cmd = FfmpegCommand()

# set arguments as string
cmd.override_video.string = "-vcodec libx265"
cmd.override_video.string += "-x265-params lossless=1"

# or as list
cmd.override_video.list = ["-vcodec", "libx265"]
cmd.override_video.list.extend(["-x265-params", "lossless=1"])

# video, audio, general - are three groups of manually set arguments
cmd.override_video.string = "-vcodec libx265"
cmd.override_audio.string = "-c:a aac -cutoff 18000 -b:a 128K"
cmd.override_general.string = "-movflags write_colr"

# so you can modify one of the groups without touching the others
cmd.override_video.string = "-vcodec prores_ks -profile:v 3"
```
